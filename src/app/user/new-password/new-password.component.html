<div class="py-3 p-lg-0 mb-5 mb-lg-0 position-relative">
  <span *ngIf="isLoading" id="progress-bar-1"></span>
  <span *ngIf="isLoading" id="progress-bar-2"></span>
  <div
    id="login-card"
    class="d-flex flex-column justify-content-between"
    style="min-height: 500px"
  >
    <div class="form-title mb-3">Reset Password</div>
    <form
      (submit)="changePassword(newPasswordForm)"
      #newPasswordForm="ngForm"
      style="font-size: 13px"
      *ngIf="!passwordChangeSuccess"
    >
      <mat-label
        >Your new password must be different from previous passwords</mat-label
      >
      <mat-form-field class="w-100 mt-2" color="accent" appearance="outline">
        <mat-label>New Password</mat-label>
        <input
          matInput
          ngModel
          name="newPassword"
          type="password"
          #newPassword="ngModel"
          required
          [errorStateMatcher]="matcher"
        />
        <mat-error *ngIf="newPassword.hasError('required')">
          Field is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="w-100 mt-2" color="accent" appearance="outline">
        <mat-label>Confirm Password</mat-label>
        <input
          matInput
          ngModel
          name="confirmPassword"
          type="password"
          #confirmPassword="ngModel"
          required
          [errorStateMatcher]="matcher"
        />
        <mat-error *ngIf="confirmPassword.hasError('required')">
          Field is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <button
        mat-raised-button
        class="w-100 mt-4 py-1"
        type="submit"
        color="primary"
      >
        RESET
      </button>
    </form>
    <div
      *ngIf="passwordChangeSuccess"
      class="success-info d-flex align-items-center mb-2"
    >
      <img
        src="assets/flag.svg"
        width="80 "
        height="80"
        class="d-inline-block align-top mr-3"
        alt=""
        loading="lazy"
      />
      <mat-label class="w-100">
        Your password has been reset successfully. You can now login to your
        account with the new password
      </mat-label>
    </div>
    <div class="mt-5 text-center">
      <a routerLink="/user/login">Login to your account</a>
    </div>
  </div>
</div>
